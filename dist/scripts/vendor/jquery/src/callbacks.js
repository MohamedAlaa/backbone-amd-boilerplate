define(["./core","./var/rnotwhite"],function(e,t){function r(r){var i=n[r]={};return e.each(r.match(t)||[],function(e,t){i[t]=!0}),i}var n={};return e.Callbacks=function(t){t=typeof t=="string"?n[t]||r(t):e.extend({},t);var i,s,o,u,a,f,l=[],c=!t.once&&[],h=function(e){i=t.memory&&e,s=!0,f=u||0,u=0,a=l.length,o=!0;for(;l&&f<a;f++)if(l[f].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}o=!1,l&&(c?c.length&&h(c.shift()):i?l=[]:p.disable())},p={add:function(){if(l){var n=l.length;(function r(n){e.each(n,function(n,i){var s=e.type(i);s==="function"?(!t.unique||!p.has(i))&&l.push(i):i&&i.length&&s!=="string"&&r(i)})})(arguments),o?a=l.length:i&&(u=n,h(i))}return this},remove:function(){return l&&e.each(arguments,function(t,n){var r;while((r=e.inArray(n,l,r))>-1)l.splice(r,1),o&&(r<=a&&a--,r<=f&&f--)}),this},has:function(t){return t?e.inArray(t,l)>-1:!!l&&!!l.length},empty:function(){return l=[],a=0,this},disable:function(){return l=c=i=undefined,this},disabled:function(){return!l},lock:function(){return c=undefined,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return l&&(!s||c)&&(t=t||[],t=[e,t.slice?t.slice():t],o?c.push(t):h(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!s}};return p},e});